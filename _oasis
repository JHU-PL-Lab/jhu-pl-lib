Name: jhupllib
Version: 0.1+dev
Synopsis: A library of tools and utilities for JHU PL lab projects.
Authors: JHU PL Lab <pl.cs@jhu.edu>
License: Apache

Maintainers: JHU PL Lab <pl.cs@jhu.edu>
Description: A library of tools and utilities for JHU PL lab projects.
Homepage: http://www.big-bang-lang.org/

OASISFormat: 0.4
BuildTools: ocamlbuild
Plugins: META (0.4)
AlphaFeatures: ocamlbuild_more_args
XOCamlbuildExtraArgs: -use-menhir -use-ocamlfind
BuildDepends: threads

# The following allows individual developers to customize their environments
# (e.g. reposition the _build directory via a symlink) on build.
PreBuildCommand: ./.execute_if_exists ./.local_prebuild
PreCleanCommand: ./.execute_if_exists ./.local_preclean

SourceRepository head
  Type: git
  Location: https://github.com/JHU-PL-Lab/jhu-pl-lib.git
  Browser: https://github.com/JHU-PL-Lab/jhu-pl-lib
  Branch: master

Library "jhupllib"
  Path: src/jhupllib
  Modules:
    Jhupllib,
    Jhupllib_eager_nondeterminism,
    Jhupllib_logger_utils,
    Jhupllib_monad_utils,
    Jhupllib_multimap,
    Jhupllib_multimap_pp,
    Jhupllib_multimap_to_yojson,
    Jhupllib_nondeterminism,
    Jhupllib_pp_utils,
    Jhupllib_string_utils,
    Jhupllib_uids,
    Jhupllib_utils,
    Jhupllib_witness_protection,
    Jhupllib_yojson_utils
  BuildDepends:
    batteries,
    monadlib,
    ocaml-monadic,
    ppx_deriving.std (>= 2.0),
    yojson

Executable "test"
  Path: test/
  MainIs: test.ml
  CompiledObject: native
  BuildDepends:
    batteries,
    jhupllib,
    oUnit,
    ppx_deriving.std (>= 2.0),
    ppx_deriving_yojson

Test test
  Command: $test
